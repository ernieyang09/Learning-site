---
slug: 946-validate-stack-sequences
hide_title: true
keywords:
  - leetcode
  - stack
---

# 946. Validate Stack Sequences

[link](https://leetcode.com/problems/validate-stack-sequences/description/)

We can decrease space complexity here. (not optimized)

```python
class Solution:
    def validateStackSequences(self, pushed: List[int], popped: List[int]) -> bool:

        stack = []

        dq = deque(popped)

        for p in pushed:
            stack.append(p)

            while stack and dq and dq[0] == stack[-1]:
                stack.pop()
                dq.popleft()

        return len(dq) == 0

```

